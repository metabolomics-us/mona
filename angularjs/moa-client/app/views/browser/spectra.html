<div ng-value="error"></div>

<div class="row">
    <div class="col-md-3">
        <form name="spectraQuery" class="form-vertical">
            <fieldset>
                <legend>Filter</legend>

                <div class="form-group">
                    <label>Tags</label>
                    <select id="tags-select" name="tags-select" data-placeholder="Select Tags" ng-model="tagsSelection"
                            ng-options="tag.text for tag in tags" multiple ng-multiple="true"
                            multiselect-dropdown></select>
                </div>

                <div class="form-group" ng-class="{ 'has-error': spectraQuery.newInchiFilter.$invalid }">
                    <label>InChIKey</label>
                    <input name="newInchiFilter" ng-model="newInchiFilter" placeholder="InChIKey"
                           class="form-control input-md" ng-keyup="$event.keyCode == 13 ? addInchiFilter() : null"
                           ng-pattern="/^([A-Z]{14}-[A-Z]{10}-[A-Z,0-9])+$/">
                    <ul class="list-unstyled">
                        <li ng-repeat="(inchi, _) in inchiFilters">
                            <span class="label label-primary" ng-click="removeInchiFilder(inchi)">{{inchi}}</span>
                        </li>
                    </ul>
                </div>
            </fieldset>
        </form>
    </div>

    <div class="col-md-9">
        <table class="table table-hover">
            <thead>
            <tr>
                <th>Name</th>
                <th class="text-center">Bio. Structure</th>
                <th class="text-center">Chem. Structure</th>
                <th class="text-center">Spectrum</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-show="spectra.length == 0">
            </tr>
            <tr ng-repeat="spectrum in spectra | filter:query" ng-click="viewSpectrum($index)">
                <td>
                    <ul class="list-unstyled">
                        <li ng-repeat="name in spectrum.chemicalCompound.names">{{name.name}}</li>
                    </ul>
                </td>
                <td class="text-center">
                    <div chemical-sketcher readonly="true" width="100" height="100" id="bioSketch_{{spectrum.id}}"
                         ng-model="spectrum.biologicalCompound.inchiKey"></div>
                </td>
                <td class="text-center">
                    <div chemical-sketcher readonly="true" width="100" height="100" id="chemSketch_{{spectrum.id}}"
                         ng-model="spectrum.chemicalCompound.inchiKey"></div>
                </td>
                <td class="text-center">
                    <chart id="massSpec_{{spectrum.id}}" mini class="mini" ng-model="spectrum"></chart>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
