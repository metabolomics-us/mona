<div class="row" *ngIf="!auth.isLoggedIn()">
  <div class="col-md-12">
    <h3><fa-icon [icon]="faUser"></fa-icon> Please <a href="" (click)="auth.requestModal()">log in</a>!</h3>
  </div>
</div>
<toaster-container [toasterconfig]="toasterOptions"></toaster-container>
<div *ngIf="auth.isLoggedIn() && auth.isAdmin()" class="container">
  <div class="row mb-2">
    <div class="col">
      <hr/>
      <div class="row justify-content-center">
        <h3>Library Deletion Utility</h3>
      </div>
      <hr/>
      <div class="row justify-content-start" *ngIf="libraryTags && libraryTags.length > 0">
        <form (ngSubmit)="submitDeletionQuery()" class="col">
          <span *ngFor="let x of libraryTags">
                <input type="checkbox" name="libraryTag" [(ngModel)]="x.selected" label> {{x.text}} ({{x.count}} spectra)
                <br />
          </span>
          <div class="row mt-2">
            <div class="col-sm">
              <button type="submit" class="btn btn-primary">Delete</button>
            </div>
            <div class="col-sm">
              <button type="button" (click)="refreshTags()" class="btn btn-secondary">Refresh Libraries</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="col">
      <hr/>
      <div class="row justify-content-center">
        <h3>Admin Buttons (Use to force updates)</h3>
      </div>
      <hr/>
      <div class="row justify-content-center mb-2">
        <button class="btn btn-info mr-2" (click)="updateStatistics()">Update Statistics</button>
      </div>
      <div class="row justify-content-center mb-2">
        <button class="btn btn-info mr-2" (click)="updatePredefinedQueries()">Update Predefined Queries</button>
      </div>
      <div class="row justify-content-center mb-2">
        <button class="btn btn-info mr-2" (click)="updateStaticQueries()">Update Static Queries</button>
      </div>
      <div class="row justify-content-center mb-2">
        <button class="btn btn-info mr-2" (click)="reCurateAllData()">Re-Curate All Data</button>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <hr/>
      <div class="row justify-content-center">
        <h3>Force Delete By ID</h3>
      </div>
      <hr/>
      <div class="row justify-content-center">
        <div class="col mb-1">
          <label>Input ID's (Comma seperated, No Spaces): </label><input type="text" [(ngModel)]="removeIDs"/>
        </div>
      </div>
      <div class="row">
        <button type="button" class="btn btn-primary" [disabled]="removeIDs === null" (click)="deleteByIds()">Delete Values</button>
      </div>
    </div>
  </div>
</div>
